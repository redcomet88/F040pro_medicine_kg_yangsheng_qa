# F040 çŸ¥è¯†å›¾è°±ä¸­åŒ»çŸ¥è¯†é—®ç­”ç³»ç»Ÿ|å…»ç”ŸåŒ»æ¡ˆç»¼åˆå¯è§†åŒ–ç³»|æ¨èç®—æ³•|vue+flask+neo4j+mysql |å‰åç«¯åˆ†ç¦»BSæ¶æ„ACè‡ªåŠ¨æœºç®—æ³•+LTPæ¨¡å‹

> å®Œæ•´é¡¹ç›®æ”¶è´¹ï¼Œå¯è”ç³»QQ: 81040295 å¾®ä¿¡: mmdsj186011 æ³¨æ˜ä»githubæ¥çš„ï¼Œè°¢è°¢ï¼
ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„Bç«™ï¼š éº¦éº¦å¤§æ•°æ® https://space.bilibili.com/1583208775
å…³æ³¨Bç«™ï¼Œæœ‰å¥½å¤„ï¼
> 

âœ…ç¼–å· :F040 pro
âœ…æŠ€æœ¯æ¶æ„: vue+flask+mysql+neo4j+ltp+ac
âœ…å®ç°åŠŸèƒ½ï¼šå®ç°åŸºäºä¸­åŒ»è¯æå’Œè¯æ–¹çš„çŸ¥è¯†å›¾è°±å¯è§†åŒ–ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†**æ¨èç®—æ³•**å’Œ**çŸ¥è¯†é—®ç­”**åŠŸèƒ½ï¼Œä¸»é¡µå¸¦æœ‰è¯æ–¹æ¨èåŠŸèƒ½ï¼ŒåŒæ—¶å…·å¤‡äº†ä¸­åŒ»ã€è¯æã€‘ã€ã€æ–¹å‰‚ã€‘ã€ã€ç²¾é€‰åŒ»æ¡ˆã€‘ã€ã€è¯æå…»ç”ŸçŸ¥è¯†ã€‘çš„èµ„è®¯æŸ¥è¯¢åŠŸèƒ½ï¼ŒåŒæ—¶å…·å¤‡æ•°æ®å¤§å±ã€å…³é”®è¯åˆ†æå’Œè¯äº‘åˆ†æåŠŸèƒ½ï¼ŒåŒæ—¶ç³»ç»Ÿå®ç°äº†æƒé™çš„åˆ†ç¦»ï¼Œç”¨æˆ·å’Œç®¡ç†å‘˜çœ‹åˆ°çš„èœå•æ˜¯ä¸åŒçš„ï¼Œç®¡ç†å‘˜è¿˜å…·å¤‡äº†ç”¨æˆ·ç®¡ç†ã€è¯æ–¹ç®¡ç†ã€è¯æç®¡ç†çš„åŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å®Œå–„çš„ç³»ç»Ÿã€‚

## 1 æ¼”ç¤ºè§†é¢‘
https://www.bilibili.com/video/BV1Sh41177SJ/
## 2 ç³»ç»Ÿæ¶æ„
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/237612529da740119f58247b882e43fa.jpeg)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7771ff65d0df4815b73ff603ee104e87.jpeg)
## 3 åŠŸèƒ½ä»‹ç»
æœ¬ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºVue+Flask+Neo4j+MySQLæ„å»ºçš„çŸ¥è¯†å›¾è°±ä¸­åŒ»çŸ¥è¯†é—®ç­”ç³»ç»Ÿï¼Œé›†æˆäº†å…»ç”ŸåŒ»æ¡ˆç»¼åˆå¯è§†åŒ–ä¸æ¨èç®—æ³•ã€‚ç³»ç»Ÿä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼šé¦–é¡µå±•ç¤ºç³»ç»Ÿæ¦‚è§ˆåŠæ¨èè¯æ–¹ï¼›çŸ¥è¯†å›¾è°±æ¨¡å—ï¼Œç”¨äºå±•ç¤ºä¸­åŒ»è¯æå’Œè¯æ–¹çš„å…³è”å…³ç³»ï¼›é—®ç­”æ¨¡å—ï¼Œæ”¯æŒç”¨æˆ·æå‡ºä¸­åŒ»ç›¸å…³é—®é¢˜å¹¶è·å–æ™ºèƒ½å›ç­”ï¼›å…»ç”ŸåŒ»æ¡ˆæ¨¡å—ï¼Œæä¾›ç²¾é€‰åŒ»æ¡ˆçš„æŸ¥è¯¢ä¸åˆ†æï¼›æ•°æ®å¤§å±åŠå…³é”®è¯åˆ†æåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ç›´è§‚çš„æ•°æ®å±•ç¤ºï¼›ä»¥åŠç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œå®ç°æƒé™åˆ†ç¦»ï¼ˆç”¨æˆ·ä¸ç®¡ç†å‘˜èœå•ä¸åŒï¼‰ï¼Œå¹¶æä¾›ç”¨æˆ·ã€è¯æ–¹ã€è¯æç®¡ç†ç­‰åŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå®ç”¨æ€§ã€‚
è¯¥ç³»ç»Ÿé‡‡ç”¨å…¸å‹çš„B/Sï¼ˆæµè§ˆå™¨/æœåŠ¡å™¨ï¼‰æ¶æ„æ¨¡å¼ã€‚ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®Vueå‰ç«¯ç•Œé¢ï¼Œè¯¥å‰ç«¯ç”±HTMLã€CSSã€JavaScriptä»¥åŠVue.jsç”Ÿæ€ç³»ç»Ÿä¸­çš„Vuexï¼ˆç”¨äºçŠ¶æ€ç®¡ç†ï¼‰ã€Vue Routerï¼ˆç”¨äºè·¯ç”±å¯¼èˆªï¼‰å’ŒEchartsï¼ˆç”¨äºæ•°æ®å¯è§†åŒ–ï¼‰ç­‰ç»„ä»¶æ„å»ºã€‚å‰ç«¯é€šè¿‡APIè¯·æ±‚ä¸Flaskåç«¯è¿›è¡Œæ•°æ®äº¤äº’ï¼ŒFlaskåç«¯åˆ™è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œå¹¶åˆ©ç”¨SQLAlchemyï¼ˆæˆ–ç±»ä¼¼ORMå·¥å…·ï¼‰ä¸MySQLæ•°æ®åº“è¿›è¡ŒæŒä¹…åŒ–æ•°æ®å­˜å‚¨ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿè¿˜åŒ…å«ä¸€ä¸ªç‹¬ç«‹çš„çˆ¬è™«æ¨¡å—ï¼Œè´Ÿè´£ä»å¤–éƒ¨æ¥æºæŠ“å–æ•°æ®å¹¶å°†å…¶å¯¼å…¥MySQLæ•°æ®åº“ã€‚ç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨åˆ†æ˜¯åŸºäºNeo4jçš„çŸ¥è¯†å›¾è°±ï¼Œåˆ©ç”¨LTPå’ŒACç­‰è‡ªç„¶è¯­è¨€å¤„ç†å·¥å…·è¿›è¡Œæ•°æ®å¤„ç†ï¼Œä¸ºæ•´ä¸ªç³»ç»Ÿæä¾›æ•°æ®æ”¯æ’‘ã€‚
### 3.1 å›¾è°±æ„é€ è¿‡ç¨‹
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9cd7e730d2844bb5b4d385736ca249c3.jpeg)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d297e6543bc24a87a43a44bbfb63c806.jpeg)

### 3.2 çŸ¥è¯†å›¾è°±å¯è§†åŒ–
1ï¸âƒ£å®ç°äº†çŸ¥è¯†å›¾è°±çš„å¯è§†åŒ–ã€æ”¾å¤§ã€ç¼©å°ã€æ‹–æ‹‰æ‹½ç­‰æ“ä½œ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e393f246e537431e8e98d9018330bf25.jpeg)

2ï¸âƒ£æ”¯æŒæ¨¡ç³Šæ£€ç´¢
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/76968e8d80c94e21ade7d20d39b69a1b.jpeg)

3ï¸âƒ£æ”¯æŒèŠ‚ç‚¹åŒå‡»åæŸ¥çœ‹è¯¦ç»†çš„å±æ€§ä¿¡æ¯ï¼ŒåŒæ—¶æ ‡ç­¾çš„é¢œè‰²åšåˆ°å’Œå›¾è°±å†…æ˜¯å¯¹åº”çš„
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1cbdb887f4d341788fdf4675c2f8ee5d.jpeg)

4ï¸âƒ£æ”¯æŒå…³ç³»åŒå‡»åå¯ä»¥æŸ¥çœ‹å…³ç³»ä¿¡æ¯ï¼Œæ¥æºèŠ‚ç‚¹å’Œç›®æ ‡èŠ‚ç‚¹
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/abbd5136eb3c40a2beee88ef085ab66e.jpeg)

### 3.3 ä¸­åŒ»é—®ç­”
1ï¸âƒ£å®ç°å‡ ç§ä¸­åŒ»é—®ç­”æ–¹å¼
2ï¸âƒ£ç—…ç—‡é—®è¯æ–¹ï¼Ÿ
3ï¸âƒ£è¯æ–¹é—®è¯æï¼Ÿ
4ï¸âƒ£ç—‡çŠ¶é—®ç—…ç—‡ï¼Ÿ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/860d4f6b667b447abe90325598869d95.jpeg)


### 3.4 è¯æ–¹æ¨è
åŸºäºç”¨æˆ·ååŒè¿‡æ»¤æ¨èç®—æ³•+åŸºäºç‰©å“çš„ååŒè¿‡æ»¤æ¨èç®—æ³•ï¼Œæ¯ä¸ªæ¨è4ä¸ªæ–¹å‰‚
âœ…ç”¨æˆ·ååŒè¿‡æ»¤æ¨èç®—æ³•
âœ…åŸºäºç‰©å“çš„ååŒè¿‡æ»¤æ¨èç®—æ³•
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/218627bb87a74fdf93d0f3301db7047f.jpeg)

### 3.5 æ–¹å‰‚æœç´¢
æ¨¡ç³Šå…³é”®è¯æœç´¢è¯æ–¹æ–¹å‰‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/64b1cc6ac60845d5ae59cdfa27945466.jpeg)

### 3.6 è¯ææœç´¢
æ¨¡ç³Šå…³é”®è¯æœç´¢è¯æ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/c92a6b98920b45509ccfa8dd270e3bb8.jpeg)

### 3.7 åŒ»æ¡ˆæŸ¥è¯¢
æœç´¢æŸ¥çœ‹åŒ»æ¡ˆ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/a7dd886801fe43e1856b17eed38c053b.jpeg)

### 3.8 å…»ç”ŸçŸ¥è¯†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/76811413488941a58b21591d0d1f72c8.jpeg)

æœç´¢æŸ¥çœ‹ä¸­è¯å…»ç”ŸçŸ¥è¯†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/93c3b556271b4d508776301cdaf637ec.jpeg)

### 3.9 æ•°æ®å¤§å± / æ•°æ®åˆ†æ å¯è§†åŒ–åŠŸèƒ½
æ•°æ®å¤§å±é€šè¿‡echartsåˆ†æç³»ç»Ÿå†…æ•°æ®
ğŸ“ŠæŠ˜çº¿å›¾
ğŸ“Šæ»šåŠ¨æŸ±çŠ¶å›¾
ğŸ“Šç¯å›¾
ğŸ“Šæ•°æ®ç»Ÿè®¡
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/699c40eae5b341f0af1d9098834d9485.jpeg)

å…³é”®è¯åˆ†æ
âœ… å…³é”®è¯æå–
âœ… textrank ç®—æ³•å…³é”®è¯è¯é¢‘åˆ†æ
âœ… tfidf ç®—æ³•å…³é”®è¯è¯é¢‘åˆ†æ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/fd880ffe9342474ca429028df0701c06.jpeg)

è¯äº‘åˆ†æ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/0f98a614e41c46cfaefc1a5d9a936249.jpeg)

### 3.10 è®¾ç½®
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/64314f2a25474335a88abd125e322cc2.jpeg)

### 3.11 ç®¡ç†å‘˜åŠŸèƒ½
ä¸»é¡µï¼šï¼šå’Œæ™®é€šç”¨æˆ·ä¸€æ ·ï¼Œä¸èµ˜è¿°äº†
ç”¨æˆ·ç®¡ç†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4fc3487462eb4178a41a16f5f96d75a6.jpeg)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/c332399b34514d429042157720fa8b93.jpeg)

è¯æç®¡ç†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/3fd4f498ac254b1aa08176232ff20b09.jpeg)

è¯æ–¹ç®¡ç†
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/40a4e56cb41046bc9b905c5672a3e6ff.jpeg)

è®¾ç½®ï¼šå’Œæ™®é€šç”¨æˆ·ä¸€æ ·ï¼Œä¸èµ˜è¿°äº†
ç™»å½•ä¸æ³¨å†Œ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1e74a071862845b785a508b8ec59aea4.jpeg)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1f47a17732ed4ddea1569ffa50187119.jpeg)
## 4 ä»£ç ä»‹ç»
### 4.1 æµç¨‹å›¾
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4a0a7b23b49e4aa591aeb00076cbf1fb.png)
### 4.2 æ ¸å¿ƒä»£ç 
è¿™æ®µä»£ç é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªåŒ…å«ä¸­è¯è¯æ–¹ä¿¡æ¯çš„å­—å…¸medicinal_recipesï¼Œç„¶åé€šè¿‡build_ac_automatonå‡½æ•°æ„å»ºäº†ä¸€ä¸ªACè‡ªåŠ¨æœºå®ä¾‹ã€‚ask_recipeå‡½æ•°ç”¨äºå¤„ç†ç”¨æˆ·çš„é—®é¢˜ï¼Œå¹¶åœ¨ACè‡ªåŠ¨æœºä¸­æŸ¥æ‰¾åŒ¹é…çš„è¯æ–¹ä¿¡æ¯ï¼Œæœ€åæ ¹æ®æŸ¥æ‰¾ç»“æœè¿”å›ç›¸åº”çš„è¯æ–¹ç»„æˆå’ŒåŠŸæ•ˆæè¿°ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¾“å…¥è¯æ–¹åç§°æ¥è·å–ç›¸å…³ä¿¡æ¯ã€‚
```python
from pyahocorasick import Automaton

# æ„å»ºè¯æ–¹æ•°æ®åº“ï¼Œå­—å…¸é”®ä¸ºè¯æ–¹åç§°ï¼Œå€¼ä¸ºä¸€ä¸ªåŒ…å«ç»„æˆå’ŒåŠŸæ•ˆçš„å…ƒç»„
medicinal_recipes = {
    "å››ç‰©æ±¤": ("å½“å½’ã€å·èŠã€èŠè¯ã€ç†Ÿåœ°", "ç”¨äºæ²»ç–—è¡€è™šå¼•èµ·çš„å¤´ç—›ã€å¤´æ™•ç­‰ç—‡"),
    "å…­å‘³åœ°é»„ä¸¸": ("ç†Ÿåœ°ã€å±±èŒ±è¸ã€å±±è¯ã€æ³½æ³»ã€ç‰¡ä¸¹çš®ã€èŒ¯è‹“", "æ»‹è‚¾é˜´ï¼Œè¡¥è‚¾é˜³ï¼Œé€‚ç”¨äºè‚¾è™šå¼•èµ·çš„è…°è†é…¸è½¯ç­‰ç—‡"),
    "æ¸…çƒ­è§£æ¯’æ±¤": ("é‡‘é“¶èŠ±ã€è¿ç¿˜ã€èµ¤èŠã€ä¸¹çš®", "ç”¨äºæ²»ç–—çƒ­æ¯’å¼•èµ·çš„å’½å–‰è‚¿ç—›ç­‰ç—‡"),
    "æ¡‚ææ±¤": ("æ¡‚æã€èŠè¯ã€ç”Ÿå§œã€å¤§æ£ã€ç”˜è‰", "ç”¨äºæ²»ç–—é£å¯’å¼•èµ·çš„è¡¨è™šè¯")
}

# æ„å»ºACè‡ªåŠ¨æœº
def build_ac_automaton(pairs):
    A = Automaton()
    for idx, (word, _) in enumerate(pairs):
        A.add_word(word, (idx, word))
    A.make_automaton()
    return A

# é—®ç­”å‡½æ•°
def ask_recipe(query, automaton, pairs):
    results = []
    for end_index, (insert_order, original_value) in automaton.iter(query):
        results.append(pairs[insert_order])
    if results:
        for name, (ingredients, effects) in results:
            print(f"è¯æ–¹åç§°: {name}\nç»„æˆ: {ingredients}\nåŠŸæ•ˆ: {effects}\n")
    else:
        print("æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥æ‚¨çš„é—®é¢˜ã€‚")

# æ„å»ºACè‡ªåŠ¨æœºå®ä¾‹
pairs = list(medicinal_recipes.items())
automaton = build_ac_automaton(pairs)

# æ¨¡æ‹Ÿç”¨æˆ·é—®ç­”
user_query = input("è¯·è¾“å…¥æ‚¨æƒ³æŸ¥è¯¢çš„è¯æ–¹åç§°ï¼š")
ask_recipe(user_query, automaton, pairs)

```
